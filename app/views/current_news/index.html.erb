
<%= form_with url: current_news_path, method: :get do |form| %>
<%= form.label :category, "Select Category to seach:" %>
<%= select(:category, "id", @categories.collect {|category| [ category.category_name, category.id ]}) %></br></br>
<%= form.label :query, "Search for:" %>
<%= form.text_field :query %>
<%= form.label :days_no, "number of prev days:" %>
<%= form.text_field :days_no %></br>

<%= date_select('published', 'date', :order => [:month, :day, :year])%>
<%= form.submit "Search" %>
<% end %>

<%= link_to 'Go to chart', display_chart_path, class: "btn btn-info"%>


 <%= paginate @current_news %> 

<table class="table mt-3">
  <tr>
    <th>Title</th>
    <th>Author</th>
    <th>Category</th>
    <th>Details</th>
    <th>Published</th>
  </tr>

<% for news in @current_news %>
  <tr>
    <td class="news_current_column_width"><span><%= news.title %></span></td>
    <td class="news_current_column_width"><%= news.author %></td>
    <td class="news_current_column_width"><%= @categories_hash[news.category_id] %></td> 
    <td class="news_current_column_width"><%= link_to 'more details', news.url %></td>
    <td class="news_current_column_width"><%= news.published %></td>
  </tr>
<% end %>
